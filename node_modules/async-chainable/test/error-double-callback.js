var expect = require('chai').expect;
var asyncChainable = require('../index');

describe('async-chainable - error (double callback)', function() {

	it('should throw an error when a callback fires twice', function(finish) {
		asyncChainable()
			.then(function(next) {
				next()
				next();
			})
			.end(function(err) {
				expect(err).to.be.not.ok;
				finish();
			});
	});

});
